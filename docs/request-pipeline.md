Весь проект, построенный на данной архитектуре имеет несколько слоев обработки входящего запроса. Большая часть этих операций автоматизирована базовыми классами. Всё, что необходимо сделать для добавления новой фичи - реализовать бизнес-логику и проверку ролевой системы.

### Сериализация и начальная обработка входящих с запросом данных

Самое начало обработки запроса. На этом шаге происходит проверка и приведение типов данных (все, что пришло по `http` протоколу - строки, а нам хочется работать с Python типами (`bool`, `int`, `List`, `Dict`, `etc`)), которые пришли с запросом. Здесь происходят только базовые проверки данных - валидация длины строк, проверка существования значений (для полей перечислений), проверка наличия обязательных полей.

### Проверка объектов, необходимых для обработки запроса

* Поиск в БД объектов, необходимых для выполнения запроса
* Преобразование данных в более удобный формат, для последующей обработки

### Проверка возможности выполнения на основе бизнес-логики

Данный шаг выполняется после получения всех необходимых объектов. Здесь необходимо проверить, возможно ли выполнить данный запрос не нарушая бизнес-логику приложения (например, объект `статья` можно изменить только если она не опубликована).

### Проверка возможности выполнения на основе ролевой системы

На данном этапе происходит проверка, что пользователь, выполнивший запрос, имеет право выполнять запрошенное действие для запрошенного объекта (например, удалить объект `статья` может только автор этой статьи или модератор/администратор).

### Выполнение операции

На данном шаге происходит выполнение запрошенной операции. Для выполнения данного шага важно понимать границы выполняемой операции. Например, при назначении модератора объекта `статья` необходимо создать соответствующую запись в БД и обновить сам объект `статьи` (установить статус "на модерации"). Обе эти операции должны быть выполнены на этом шаге. Все дополнительные действия, так же связанные с назначением модератора статьи (уведомить модератора, уведомить автора статьи), могут быть выполнены дальше, в обработчике сигнала, т.к. не влияют на бизнес-логику.

### Отправка сигнала о завершении выполнения операции

Этот этап выполняется только после успешного выполнения операции. Здесь необходимо отправить сигнал о том, что действие совершено, чтобы запустить обработчики дополнительных действий.

### Выполнение обработчиков сигнала

На этом этапе поочередно вызываются методы, которые назначены как обработчики сигнала совершенной операции. Эти обработчики вызываются в произвольном порядке (на самом деле нет, но для понимания лучше считать, что они выполняются произвольно) - это важно понимать, чтобы не делать связанные обработчики, работа которых зависит от работы других.

### Сериализация ответа

Последний шаг обработки запроса. Каждый обработчик может вернуть ответ: словарь, объект модели, объекты модели, файл. Здесь происходит сериализация результата работы обработчика с помощью `Read<Entity>Serializer` (для всех, кроме объекта File). Специальный объект `File` обрабатывается каждым интерфейсом отдельно, `api` интерфейс подготавливает `HttpResponse` объект с прикрепленным файлом.



